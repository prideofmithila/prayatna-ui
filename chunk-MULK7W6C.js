import{a as v,c as S,e as z,n as T}from"./chunk-2VKXMQKX.js";import{a as D}from"./chunk-KYQJPKHM.js";import{F as d,G as p,Ha as h,Ia as w,Ka as k,Sa as y,T as g,V as _,W as M,_ as x,ca as f,da as o,ea as i,ia as C,ja as c,ka as m,sa as a,ta as u,va as O,wa as P,xa as b}from"./chunk-KDXLTLGY.js";function j(r,e){if(r&1){let t=C();o(0,"div",14)(1,"div",15)(2,"div",16),c("click",function(){let s=d(t).index,l=m();return p(l.view(s))}),o(3,"div",17)(4,"div")(5,"div",18),a(6),i()(),o(7,"button",19),c("click",function(s){let l=d(t).index;return m().play(l),p(s.stopPropagation())}),o(8,"span",7),a(9,"play_arrow"),i()()(),o(10,"div",20)(11,"span",21),a(12,"timer"),i(),o(13,"span",22),a(14),i()()()()()}if(r&2){let t=e.$implicit,n=m();g(6),u(t.sessionName),g(8),u(t.totalDuration&&t.totalDuration>0?n.durationToHuman(t.totalDuration):"Untimed")}}function N(r,e){r&1&&(o(0,"div",23),a(1,"No sessions yet. Use the + button to add one."),i())}function V(r,e){if(r&1){let t=C();o(0,"div",24),c("click",function(){d(t);let s=m();return p(s.cancelDelete())}),o(1,"div",25),c("click",function(s){return d(t),p(s.stopPropagation())}),o(2,"h5"),a(3,"Confirm Delete"),i(),o(4,"p"),a(5,"Are you sure you want to delete this session? This action cannot be undone."),i(),o(6,"div",26)(7,"button",27),c("click",function(){d(t);let s=m();return p(s.cancelDelete())}),a(8,"Cancel"),i(),o(9,"button",28),c("click",function(){d(t);let s=m();return p(s.confirmDelete())}),a(10,"Delete"),i()()()()}}var L=class r{constructor(e,t){this.sessionsService=e;this.router=t;this.sessions=this.sessionsService.load()}sessions=[];searchTerm="";showDeleteModal=!1;sessionToDelete=null;get filteredSessions(){let e=(this.searchTerm||"").trim().toLowerCase();return e?this.sessions.filter(t=>t.sessionName.toLowerCase().includes(e)||(t.tasks||[]).some(n=>n.taskName.toLowerCase().includes(e))):this.sessions}durationToHuman(e){if(!e)return"00:00:00";let t=Math.floor(e/3600),n=Math.floor(e%3600/60),s=e%60;return`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}:${String(s).padStart(2,"0")}`}createNew(){this.router.navigate(["/sessions/new"])}view(e){this.router.navigate(["/sessions",e,"view"])}play(e){this.router.navigate(["/sessions",e,"timer"])}edit(e){this.router.navigate(["/sessions",e,"edit"])}duplicate(e){let t=this.sessions[e],n=JSON.parse(JSON.stringify(t));n.sessionName=n.sessionName+" (copy)",this.sessions.push(n),this.sessionsService.save(this.sessions)}delete(e){this.sessionToDelete=e,this.showDeleteModal=!0}confirmDelete(){this.sessionToDelete!==null&&(this.sessions.splice(this.sessionToDelete,1),this.sessionsService.save(this.sessions),this.sessionToDelete=null),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1,this.sessionToDelete=null}static \u0275fac=function(t){return new(t||r)(_(D),_(y))};static \u0275cmp=M({type:r,selectors:[["app-sessions-list"]],decls:16,vars:4,consts:[[1,"sessions-page","container","py-3","mt-4"],[1,"d-flex","mb-3","align-items-center","gap-3","actions-bar"],[1,"flex-grow-1","search-holder"],[1,"search-full"],[1,"search-icon","material-icons"],["placeholder","Search Sessions","aria-label","Search",1,"form-control",3,"ngModelChange","ngModel"],["title","Add session",1,"btn","btn-primary","d-flex","align-items-center","justify-content-center","add-btn",2,"width","46px","height","46px",3,"click"],[1,"material-icons"],[1,"row"],[1,"col-12"],[1,"row","g-3"],["class","col-6 col-md-4",4,"ngFor","ngForOf"],["class","col-12 text-muted",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"col-6","col-md-4"],[1,"session-card"],[1,"card-inner",2,"cursor","pointer",3,"click"],[1,"d-flex","justify-content-between","align-items-start"],[1,"session-title"],["title","Play",1,"icon-btn",3,"click"],[1,"duration","subtle-text","d-flex","align-items-center","gap-1"],[1,"material-icons","text-timer",2,"font-size","18px"],[1,"duration-text"],[1,"col-12","text-muted"],[1,"modal-overlay",3,"click"],[1,"modal-card","small",3,"click"],[1,"d-flex","gap-2","justify-content-end","mt-3"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),a(5,"search"),i(),o(6,"input",5),b("ngModelChange",function(l){return P(n.searchTerm,l)||(n.searchTerm=l),l}),i()()(),o(7,"button",6),c("click",function(){return n.createNew()}),o(8,"span",7),a(9,"add"),i()()(),o(10,"div",8)(11,"div",9)(12,"div",10),x(13,j,15,2,"div",11)(14,N,2,0,"div",12),i()()()(),x(15,V,11,0,"div",13)),t&2&&(g(6),O("ngModel",n.searchTerm),g(7),f("ngForOf",n.filteredSessions),g(),f("ngIf",!n.sessions.length),g(),f("ngIf",n.showDeleteModal))},dependencies:[k,h,w,T,v,S,z],styles:[".sessions-page[_ngcontent-%COMP%]{padding-bottom:6rem;color:#0f172a}.sessions-page[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]{flex-wrap:nowrap}.sessions-page[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]   .search-holder[_ngcontent-%COMP%]{min-width:0}.sessions-page[_ngcontent-%COMP%]   .search-full[_ngcontent-%COMP%]{display:flex;align-items:center;background:#f5f5f7;border-radius:12px;padding:10px 12px;border:1px solid #c7c7cf;box-shadow:none}.sessions-page[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:10px;color:#4b4b55}.sessions-page[_ngcontent-%COMP%]   .search-full[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;padding:6px 0;background:transparent;color:#111}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]{background:#f5effb;border-radius:14px;padding:16px 16px 12px;border:1px solid #e9e1f1;box-shadow:0 14px 32px #00000017;display:flex;flex-direction:column;min-height:120px;position:relative;transition:transform .12s ease,box-shadow .12s ease,border-color .12s ease,background-color .12s ease}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 18px 38px #0000001f;border-color:#e1d7ed;background:#f2eaf9}.sessions-page[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.sessions-page[_ngcontent-%COMP%]   .session-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.08rem;color:#151515;letter-spacing:.1px}.sessions-page[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{display:flex;align-items:center;color:#111;font-weight:500;font-size:.94rem;opacity:.95}.sessions-page[_ngcontent-%COMP%]   .duration-text[_ngcontent-%COMP%]{font-weight:500}.sessions-page[_ngcontent-%COMP%]   .text-timer[_ngcontent-%COMP%]{color:#1c6fda}.sessions-page[_ngcontent-%COMP%]   .subtle-text[_ngcontent-%COMP%]{color:#1f1f1f;font-weight:500}.sessions-page[_ngcontent-%COMP%]   .meta-row[_ngcontent-%COMP%]{color:#242424;font-size:.93rem}.sessions-page[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:none;background:#1c6fda;display:flex;align-items:center;justify-content:center;padding:0;color:#fff;box-shadow:0 8px 18px #1c6fda40;transition:transform .12s ease,box-shadow .12s ease}.sessions-page[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 22px #1c6fda47}.sessions-page[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{position:fixed;right:18px;bottom:18px;width:64px;height:64px;border-radius:18px;background:#d9c8f6;border:none;font-size:30px;color:#402b86;box-shadow:0 14px 28px #402b8638;display:flex;align-items:center;justify-content:center}@media(min-width:768px){.sessions-page[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{display:none}}.sessions-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{padding-top:8px}.sessions-page[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:18px;box-shadow:0 10px 26px #0f172a14;border:1px solid #e2e8f0}.sessions-page[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:18px}.sessions-page[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{font-size:1.2rem;padding:14px;border-radius:8px}.sessions-page[_ngcontent-%COMP%]   .modal-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:18px;width:min(720px,96%);box-shadow:0 18px 46px #0f172a33;border:1px solid #e2e8f0}.sessions-page[_ngcontent-%COMP%]   .modal-card.small[_ngcontent-%COMP%]{width:min(420px,92%)}.sessions-page[_ngcontent-%COMP%]   .modal-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .sessions-page[_ngcontent-%COMP%]   .modal-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-bottom:12px}.sessions-page[_ngcontent-%COMP%]   .subtask-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:6px 0}.sessions-page[_ngcontent-%COMP%]   .sub-left[_ngcontent-%COMP%]{color:#1e293b}.sessions-page[_ngcontent-%COMP%]   .sub-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.sessions-page[_ngcontent-%COMP%]   .tasks-section[_ngcontent-%COMP%]   .add-task-circle[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:24px;background:#2563eb;color:#fff;border:none;display:inline-flex;align-items:center;justify-content:center;font-size:20px}.sessions-page[_ngcontent-%COMP%]   .tasks-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}@media(max-width:767.98px){.sessions-page[_ngcontent-%COMP%]   .session-title[_ngcontent-%COMP%]{font-size:1.05rem}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]{padding:12px 12px 10px;min-height:90px}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{gap:6px}.sessions-page[_ngcontent-%COMP%]   .search-full[_ngcontent-%COMP%]{padding:8px}.sessions-page[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{right:14px;bottom:14px}}@media(max-width:575.98px){.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{display:none}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{align-items:center;text-align:center;gap:10px}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%] > .d-flex[_ngcontent-%COMP%]{justify-content:center}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]   .session-title[_ngcontent-%COMP%]{text-align:center}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{justify-content:center;gap:8px}}.summary-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:transform .12s ease}.summary-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.view-summary-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e1f1;border-radius:18px;padding:20px 24px;box-shadow:0 14px 32px #0000001f}.task-card[_ngcontent-%COMP%]{background:#fff;border-radius:18px;padding:20px 24px;margin-bottom:16px;border:1px solid #e9e1f1;box-shadow:0 14px 32px #0000001f}.task-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.task-left[_ngcontent-%COMP%]{display:flex;flex-direction:column}.task-title[_ngcontent-%COMP%]{font-weight:700;color:#0f172a;font-size:1.05rem}.task-meta[_ngcontent-%COMP%]{color:#475569}.task-ops[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 6px}.subtask-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#334155;padding:6px 0}.sub-dur[_ngcontent-%COMP%]{color:#2563eb;font-weight:600}.session-timer-page[_ngcontent-%COMP%]{max-width:720px;margin:0 auto}.timer-card[_ngcontent-%COMP%]{background:#e8e4f0;border-radius:20px;padding:24px;box-shadow:0 12px 28px #0000001a}.session-timer-card[_ngcontent-%COMP%]{background:#e8e4f0}.timer-header[_ngcontent-%COMP%]   .timer-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f1f1f}.timer-display[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;text-align:center;letter-spacing:2px;transition:color .3s ease}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-5px)}20%,40%,60%,80%{transform:translate(5px)}}.timer-negative[_ngcontent-%COMP%]{color:#dc3545!important;animation:_ngcontent-%COMP%_shake .5s ease-in-out infinite}.session-timer-display[_ngcontent-%COMP%]{color:#1c6fda}.session-only[_ngcontent-%COMP%]{padding:32px 24px!important;min-height:300px;display:flex;flex-direction:column;justify-content:center}.session-only-timer[_ngcontent-%COMP%]{font-size:6rem!important;letter-spacing:4px;margin-top:24px;margin-bottom:24px}.task-selection-card[_ngcontent-%COMP%]{background:#e8e4f0}.task-selection-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;text-align:center;color:#1f1f1f}.task-timer-display[_ngcontent-%COMP%]{color:#4a4a4a;font-size:3.5rem!important}.task-select-card[_ngcontent-%COMP%]{background:#e8e4f0;border-radius:12px;padding:16px;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,background-color .12s ease;box-shadow:0 4px 12px #00000014}.task-select-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #0000001f;background:#ddd7eb}.task-select-card.selected[_ngcontent-%COMP%]{background:#1c6fda;box-shadow:0 8px 20px #1c6fda4d}.task-select-card.selected[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%], .task-select-card.selected[_ngcontent-%COMP%]   .task-duration-display[_ngcontent-%COMP%]{color:#fff}.task-select-card[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1c6fda;margin-bottom:6px}.task-select-card[_ngcontent-%COMP%]   .task-duration-display[_ngcontent-%COMP%]{font-size:.85rem;color:#5a5a5a;font-weight:500}.subtask-info[_ngcontent-%COMP%]{margin-top:20px;padding-top:16px;border-top:1px solid #e9e1f1}.subtask-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;margin-bottom:16px}.subtask-column[_ngcontent-%COMP%]{flex:1;text-align:center}.subtask-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#4a4a4a;margin-bottom:6px;text-transform:capitalize}.subtask-name[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:600;color:#1f1f1f;word-break:break-word;margin-bottom:4px}.subtask-duration[_ngcontent-%COMP%]{font-size:.85rem;color:#5a5a5a;font-weight:500}.subtask-timer-display[_ngcontent-%COMP%]{color:#1c6fda!important;font-size:4.5rem!important;margin-top:12px}.task-duration-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px;padding:12px;background:#f5f5f7;border-radius:10px}.task-duration-label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#4a4a4a}.task-duration-value[_ngcontent-%COMP%]{font-size:.95rem;font-weight:700;color:#1c6fda}@media(max-width:576px){.session-timer-page[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.timer-card[_ngcontent-%COMP%]{padding:16px}.timer-display[_ngcontent-%COMP%]{font-size:2rem;letter-spacing:1px;overflow-wrap:break-word;word-break:break-all}.session-only-timer[_ngcontent-%COMP%]{font-size:3.5rem!important;letter-spacing:2px;margin-top:16px;margin-bottom:16px}.task-timer-display[_ngcontent-%COMP%]{font-size:2.5rem!important}.subtask-timer-display[_ngcontent-%COMP%]{font-size:3rem!important}.timer-header[_ngcontent-%COMP%]   .timer-title[_ngcontent-%COMP%]{font-size:1.2rem}.task-selection-title[_ngcontent-%COMP%]{font-size:1.1rem}.timer-negative[_ngcontent-%COMP%]{font-size:1.8rem!important}.session-only-timer.timer-negative[_ngcontent-%COMP%]{font-size:3rem!important}.task-timer-display.timer-negative[_ngcontent-%COMP%]{font-size:2rem!important}.subtask-timer-display.timer-negative[_ngcontent-%COMP%]{font-size:2.5rem!important}}"]})};export{L as SessionsListComponent};
