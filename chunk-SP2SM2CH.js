import{a as q,b as C,c as Y,d as B,f as Q,g as U,h as L,i as J,j as K,k as W,l as X,m as Z}from"./chunk-GYZ4BHBE.js";import{a as tt}from"./chunk-C26KPTWN.js";import{$ as x,Ea as z,F as p,Fa as j,G as f,Ha as G,Na as R,Pa as $,S as w,U as d,V as P,W as v,X as F,Z as N,ca as u,da as o,ea as s,fa as b,ga as E,ha as T,ia as k,ja as _,ka as c,la as I,ma as V,na as D,oa as A,qa as a,ra as h,sa as S,za as H}from"./chunk-XL53VMAI.js";var y=class r{constructor(n,t){this.el=n;this.renderer=t;this.hostEl=this.el.nativeElement}hostEl;placeholder=null;ngOnInit(){try{let n=this.hostEl.parentNode;n&&(this.placeholder=this.renderer.createComment("portal-placeholder"),this.renderer.insertBefore(n,this.placeholder,this.hostEl)),this.renderer.appendChild(document.body,this.hostEl)}catch(n){console.warn("PortalDirective: failed to move element to body",n)}}ngOnDestroy(){try{this.hostEl&&this.hostEl.parentNode&&this.renderer.removeChild(this.hostEl.parentNode,this.hostEl),this.placeholder&&this.placeholder.parentNode&&this.renderer.removeChild(this.placeholder.parentNode,this.placeholder)}catch{}}static \u0275fac=function(t){return new(t||r)(v(w),v(P))};static \u0275dir=N({type:r,selectors:[["","appPortal",""]]})};var it=["sessionNameInput"];function ot(r,n){if(r&1){let t=k();E(0),o(1,"div",14)(2,"button",15),_("click",function(){p(t);let e=c();return f(e.goToEdit())}),o(3,"span",16),a(4,"edit"),s()(),o(5,"button",17),_("click",function(){p(t);let e=c();return f(e.playSession())}),o(6,"span",18),a(7,"play_circle_filled"),s()(),o(8,"button",19),_("click",function(){p(t);let e=c();return f(e.deleteCurrent())}),o(9,"span",16),a(10,"delete"),s()()(),o(11,"div",20)(12,"div",21)(13,"span",22),a(14,"play_arrow"),s(),o(15,"h4",23),a(16),s()(),o(17,"div",24)(18,"span",25),a(19,"timer"),s(),o(20,"div",26),a(21),s()()(),T()}if(r&2){let t,i=c();d(16),h(((t=i.form.get("sessionName"))==null?null:t.value)||"Untitled Session"),d(5),h(i.viewTotalDurationSeconds()>0?i.formatDuration(i.viewTotalDurationSeconds()):"Untimed")}}function st(r,n){if(r&1&&(o(0,"div",27)(1,"h2",23),a(2),s()()),r&2){let t=c();d(2),h(t.editingIndex===null?"Add Session":"Edit Session")}}function at(r,n){r&1&&(o(0,"div",28),b(1,"input",29,1),o(3,"label",30),a(4,"Session Name"),s()())}function rt(r,n){r&1&&b(0,"hr")}function lt(r,n){if(r&1){let t=k();o(0,"div",31)(1,"h5",23),a(2,"Tasks in Session"),s(),o(3,"button",32),_("click",function(){p(t);let e=c();return f(e.openTaskModal())}),o(4,"span",33),a(5,"add"),s()()()}}function dt(r,n){r&1&&(o(0,"div",34)(1,"p",23),a(2,"No task is added. Click on add (+) button to add task to session."),s()())}function ct(r,n){if(r&1){let t=k();o(0,"div")(1,"button",45),_("click",function(){p(t);let e=c().index,l=c(2);return f(l.openTaskModal(e))}),o(2,"span",46),a(3,"edit"),s()(),o(4,"button",47),_("click",function(){p(t);let e=c().index,l=c(2);return f(l.tasks.removeAt(e))}),o(5,"span",46),a(6,"delete"),s()()()}}function mt(r,n){if(r&1&&(o(0,"div",51)(1,"span"),a(2),s(),o(3,"span"),a(4),s()()),r&2){let t,i,e=n.$implicit,l=c(4);d(2),S("- ",((t=e.get("subtaskName"))==null?null:t.value)||"Untitled"),d(2),h(l.formatDuration(((i=e.get("duration"))==null?null:i.value)||0))}}function ut(r,n){if(r&1&&(o(0,"div",48)(1,"h6",49),a(2,"Subtasks"),s(),x(3,mt,5,2,"div",50),s()),r&2){let t=c().index,i=c(2);d(3),u("ngForOf",i.getSubtasksControls(t))}}function pt(r,n){if(r&1&&(o(0,"div",38)(1,"div",39)(2,"div",40)(3,"h5",41),a(4),s(),x(5,ct,7,0,"div",6),s(),o(6,"div",42)(7,"span",43),a(8,"Task Duration"),s(),o(9,"strong"),a(10),s()(),x(11,ut,4,1,"div",44),s()()),r&2){let t,i,e=n.$implicit,l=n.index,m=c(2);d(4),h((t=e.get("taskName"))==null?null:t.value),d(),u("ngIf",!m.isViewMode),d(5),h(m.formatDuration(m.taskGroupDuration(e))),d(),u("ngIf",((i=e.get("hasSubtasks"))==null?null:i.value)&&m.getSubtasksControls(l).length>0)}}function ft(r,n){if(r&1&&(o(0,"div")(1,"h6",35),a(2,"Tasks:"),s(),o(3,"div",36),x(4,pt,12,4,"div",37),s()()),r&2){let t=c();d(4),u("ngForOf",t.tasks.controls)}}function _t(r,n){r&1&&b(0,"hr",52)}function gt(r,n){r&1&&(o(0,"div",35)(1,"label",53),a(2,"Session Duration (optional)"),s(),o(3,"div",54)(4,"div",55),b(5,"input",56),o(6,"label",57),a(7,"Hours"),s()(),o(8,"div",55),b(9,"input",58),o(10,"label",59),a(11,"Minutes"),s()(),o(12,"div",55),b(13,"input",60),o(14,"label",61),a(15,"Seconds"),s()()()())}function bt(r,n){if(r&1){let t=k();o(0,"div",62)(1,"button",63),a(2,"Save"),s(),o(3,"button",64),_("click",function(){p(t);let e=c();return f(e.cancel())}),a(4,"Cancel"),s()()}}function xt(r,n){r&1&&(o(0,"div",49)(1,"label",53),a(2,"Duration"),s(),o(3,"div",54)(4,"div",55),b(5,"input",83),o(6,"label",84),a(7,"Hours"),s()(),o(8,"div",55),b(9,"input",85),o(10,"label",86),a(11,"Minutes"),s()(),o(12,"div",55),b(13,"input",87),o(14,"label",88),a(15,"Seconds"),s()()()())}function kt(r,n){if(r&1){let t=k();o(0,"div",71)(1,"div",92)(2,"div",93)(3,"div",94)(4,"strong"),a(5),s(),o(6,"div",95),a(7),s()(),o(8,"div",96)(9,"button",97),_("click",function(){let e=p(t).index,l=c(3);return f(l.openSubtaskModal(e))}),o(10,"span",46),a(11,"edit"),s()(),o(12,"button",47),_("click",function(){let e=p(t).index,l=c(3);return f(l.removeSubtaskInModal(e))}),o(13,"span",46),a(14,"delete"),s()()()()()()}if(r&2){let t,i,e=n.$implicit,l=c(3);u("formGroup",l.controlAsGroup(e)),d(5),h(((t=e.get("subtaskName"))==null?null:t.value)||"Untitled Subtask"),d(2),S("Duration: ",l.formatDuration(((i=e.get("duration"))==null?null:i.value)||0))}}function ht(r,n){if(r&1){let t=k();o(0,"div")(1,"div",27)(2,"h6",23),a(3,"Subtasks"),s(),o(4,"button",89),_("click",function(){p(t);let e=c(2);return f(e.openSubtaskModal())}),a(5,"Add Subtask"),s()(),x(6,kt,15,3,"div",90),o(7,"div",91),a(8),s()()}if(r&2){let t=c(2);d(6),u("ngForOf",t.taskModalSubtasks.controls),d(2),S("Total subtask duration: ",t.formatDuration(t.taskModalTotalDuration))}}function vt(r,n){if(r&1){let t=k();o(0,"div",65),_("click",function(){p(t);let e=c(2);return f(e.closeSubtaskModal())}),o(1,"div",98),_("click",function(e){return p(t),f(e.stopPropagation())}),o(2,"div",67)(3,"h5",68),a(4),s(),o(5,"button",69),_("click",function(){p(t);let e=c(2);return f(e.closeSubtaskModal())}),s()(),o(6,"div",70)(7,"form",71)(8,"div",72),b(9,"input",99),o(10,"label",100),a(11,"Subtask Name"),s()(),o(12,"div",49)(13,"label",53),a(14,"Duration"),s(),o(15,"div",54)(16,"div",55),b(17,"input",101),o(18,"label",102),a(19,"Hours"),s()(),o(20,"div",55),b(21,"input",103),o(22,"label",104),a(23,"Minutes"),s()(),o(24,"div",55),b(25,"input",105),o(26,"label",106),a(27,"Seconds"),s()()()()()(),o(28,"div",80)(29,"button",81),_("click",function(){p(t);let e=c(2);return f(e.saveSubtaskModal())}),a(30,"Save"),s(),o(31,"button",82),_("click",function(){p(t);let e=c(2);return f(e.closeSubtaskModal())}),a(32,"Cancel"),s()()()()}if(r&2){let t=c(2);d(4),h(t.editingSubtaskIndex===null?"Add Subtask":"Edit Subtask"),d(3),u("formGroup",t.subtaskModalForm)}}function Ct(r,n){if(r&1){let t=k();o(0,"div",65),_("click",function(){p(t);let e=c();return f(e.closeTaskModal())}),o(1,"div",66),_("click",function(e){return p(t),f(e.stopPropagation())}),o(2,"div",67)(3,"h5",68),a(4),s(),o(5,"button",69),_("click",function(){p(t);let e=c();return f(e.closeTaskModal())}),s()(),o(6,"div",70)(7,"form",71)(8,"div",72),b(9,"input",73),o(10,"label",74),a(11,"Task name"),s()(),o(12,"div",49)(13,"label",75),a(14,"Has subtasks?"),s(),o(15,"div")(16,"div",76),b(17,"input",77),o(18,"label",78),a(19,"Yes"),s()(),o(20,"div",76),b(21,"input",77),o(22,"label",78),a(23,"No"),s()()()(),x(24,xt,16,0,"div",79)(25,ht,9,2,"div",6),s()(),o(26,"div",80)(27,"button",81),_("click",function(){p(t);let e=c();return f(e.saveTaskModal())}),a(28,"Save Task"),s(),o(29,"button",82),_("click",function(){p(t);let e=c();return f(e.closeTaskModal())}),a(30,"Close"),s()()(),x(31,vt,33,2,"div",13),s()}if(r&2){let t,i,e=c();d(4),h(e.editingTaskIndex===null?"Add Task":"Edit Task"),d(3),u("formGroup",e.taskModalForm),d(10),u("value",!0),d(4),u("value",!1),d(3),u("ngIf",!((t=e.taskModalForm.get("hasSubtasks"))!=null&&t.value)),d(),u("ngIf",(i=e.taskModalForm.get("hasSubtasks"))==null?null:i.value),d(6),u("ngIf",e.subtaskModalOpen)}}var et=class r{constructor(n,t,i,e){this.sessionsService=n;this.fb=t;this.router=i;this.route=e;this.sessions=this.sessionsService.load(),this.form=this.fb.group({sessionName:[""],isTimed:[!0],totalDuration:[0],durationHours:[0],durationMinutes:[0],durationSeconds:[0],tasks:this.fb.array([])}),this.taskModalForm=this.fb.group({taskName:["",C.required],hasSubtasks:[!1],taskDuration:[0],durationHours:[0],durationMinutes:[0],durationSeconds:[0],subtasks:this.fb.array([])}),this.subtaskModalForm=this.fb.group({subtaskName:["",C.required],duration:[0,[C.min(0)]],durationHours:[0],durationMinutes:[0],durationSeconds:[0]});let l=this.taskModalForm.get("taskDuration");l.setValidators([C.required,C.min(0)]),l.updateValueAndValidity({emitEvent:!1}),this.taskModalForm.get("hasSubtasks").valueChanges.subscribe(g=>{g?(l.disable({emitEvent:!1}),l.clearValidators(),l.updateValueAndValidity({emitEvent:!1})):(l.enable({emitEvent:!1}),l.setValidators([C.required,C.min(0)]),l.updateValueAndValidity({emitEvent:!1}))})}sessions=[];editingIndex=null;isViewMode=!1;form;taskModalOpen=!1;subtaskModalOpen=!1;editingTaskIndex=null;editingSubtaskIndex=null;taskModalForm;subtaskModalForm;sessionNameInput;ngOnInit(){this.route.paramMap.subscribe(n=>{this.isViewMode=(this.route.snapshot.routeConfig?.path||"").includes("view");let t=n.get("id");if(t!==null){let i=Number(t);!isNaN(i)&&i>=0&&i<this.sessions.length&&(this.loadForEdit(i),this.isViewMode&&this.form.disable({emitEvent:!1}))}})}get tasks(){return this.form.get("tasks")}addTask(n){let t=this.fb.array((n?.subtasks||[]).map(e=>this.fb.group({subtaskName:[e.subtaskName],duration:[e.duration]}))),i=this.fb.group({taskName:[n?.taskName||""],hasSubtasks:[n?.hasSubtasks??!1],taskDuration:[n?.taskDuration||0],subtasks:t});this.tasks.push(i)}getSubtasksControls(n){let t=this.tasks.at(n).get("subtasks");return t?t.controls:[]}openTaskModal(n){this.editingTaskIndex=typeof n=="number"?n:null;let t=this.taskModalForm,i=t.get("subtasks");for(;i.length;)i.removeAt(0);if(this.editingTaskIndex!==null){let e=this.tasks.at(this.editingTaskIndex).value,l=e.taskDuration||0,m=Math.floor(l/3600),g=Math.floor(l%3600/60),M=l%60;t.patchValue({taskName:e.taskName,hasSubtasks:!!e.hasSubtasks,taskDuration:e.taskDuration||0,durationHours:m,durationMinutes:g,durationSeconds:M}),(e.subtasks||[]).forEach(O=>i.push(this.fb.group({subtaskName:[O.subtaskName],duration:[O.duration]})))}else t.reset({taskName:"",hasSubtasks:!1,taskDuration:0,durationHours:0,durationMinutes:0,durationSeconds:0});this.taskModalOpen=!0,setTimeout(()=>{try{this.sessionNameInput?.nativeElement?.focus()}catch{}},0)}closeTaskModal(){this.taskModalOpen=!1,this.editingTaskIndex=null;let n=this.taskModalForm.get("subtasks");for(;n.length;)n.removeAt(0)}saveTaskModal(){let n=!!this.taskModalForm.get("hasSubtasks")?.value;if(n&&this.taskModalSubtasks.length===0){alert("Please add at least one subtask");return}if(this.taskModalForm.invalid)return;let t=this.taskModalForm.value,i=0;if(n)i=this.taskModalSubtasks.controls.reduce((l,m)=>l+Number(m.get("duration")?.value||0),0);else{let l=Number(t.durationHours)||0,m=Number(t.durationMinutes)||0,g=Number(t.durationSeconds)||0;i=l*3600+m*60+g}let e={taskName:t.taskName,hasSubtasks:n,taskDuration:i,subtasks:(t.subtasks||[]).map(l=>({subtaskName:l.subtaskName,duration:Number(l.duration)||0}))};if(this.editingTaskIndex===null)this.addTask(e);else{let l=this.tasks.at(this.editingTaskIndex);l.patchValue({taskName:e.taskName,hasSubtasks:e.hasSubtasks,taskDuration:e.taskDuration});let m=l.get("subtasks");for(;m.length;)m.removeAt(0);(e.subtasks||[]).forEach(g=>m.push(this.fb.group({subtaskName:[g.subtaskName],duration:[g.duration]})))}this.closeTaskModal()}get taskModalSubtasks(){return this.taskModalForm.get("subtasks")}openSubtaskModal(n){this.editingSubtaskIndex=typeof n=="number"?n:null;let t=this.taskModalSubtasks;if(this.editingSubtaskIndex!==null){let i=t.at(this.editingSubtaskIndex).value,e=i.duration||0,l=Math.floor(e/3600),m=Math.floor(e%3600/60),g=e%60;this.subtaskModalForm.patchValue({subtaskName:i.subtaskName,duration:i.duration,durationHours:l,durationMinutes:m,durationSeconds:g})}else this.subtaskModalForm.reset({subtaskName:"",duration:0,durationHours:0,durationMinutes:0,durationSeconds:0});this.subtaskModalOpen=!0}closeSubtaskModal(){this.subtaskModalOpen=!1,this.editingSubtaskIndex=null,this.subtaskModalForm.reset({subtaskName:"",duration:0,durationHours:0,durationMinutes:0,durationSeconds:0})}saveSubtaskModal(){if(this.subtaskModalForm.invalid)return;let n=this.subtaskModalForm.value,t=Number(n.durationHours)||0,i=Number(n.durationMinutes)||0,e=Number(n.durationSeconds)||0,l=t*3600+i*60+e,m=this.taskModalSubtasks;this.editingSubtaskIndex===null?m.push(this.fb.group({subtaskName:[n.subtaskName],duration:[l]})):m.at(this.editingSubtaskIndex).patchValue({subtaskName:n.subtaskName,duration:l}),this.closeSubtaskModal()}viewTotalDurationSeconds(){return Number(this.form.get("totalDuration")?.value||0)}removeSubtaskInModal(n){this.taskModalSubtasks.removeAt(n)}get taskModalTotalDuration(){return this.taskModalSubtasks.controls.reduce((n,t)=>n+Number(t.get("duration")?.value||0),0)}get taskModalComputedDuration(){return!!this.taskModalForm.get("hasSubtasks")?.value?this.taskModalTotalDuration:Number(this.taskModalForm.get("taskDuration")?.value||0)}taskGroupDuration(n){if(!!n.get("hasSubtasks")?.value){let i=n.get("subtasks");return i?i.controls.reduce((e,l)=>e+Number(l.get("duration")?.value||0),0):0}return Number(n.get("taskDuration")?.value||0)}controlAsGroup(n){return n}formatDuration(n){let t=Math.floor(n/3600),i=Math.floor(n%3600/60),e=n%60;return`${t}h ${i}m ${e}s`}loadForEdit(n){let t=this.sessions[n];this.editingIndex=n;let i=t.totalDuration||0,e=Math.floor(i/3600),l=Math.floor(i%3600/60),m=i%60;for(this.form.patchValue({sessionName:t.sessionName,isTimed:t.isTimed,totalDuration:t.totalDuration||0,durationHours:e,durationMinutes:l,durationSeconds:m});this.tasks.length;)this.tasks.removeAt(0);t.tasks.forEach(g=>this.addTask(g))}save(){let n=this.form.value,t=Number(n.durationHours)||0,i=Number(n.durationMinutes)||0,e=Number(n.durationSeconds)||0,l=t*3600+i*60+e,m={sessionName:n.sessionName,isTimed:!!n.isTimed,totalDuration:l>0?l:Number(n.totalDuration)||0,tasks:(n.tasks||[]).map(g=>({taskName:g.taskName,hasSubtasks:!!g.hasSubtasks,taskDuration:Number(g.taskDuration)||0,subtasks:(g.subtasks||[]).map(M=>({subtaskName:M.subtaskName,duration:Number(M.duration)||0}))}))};this.editingIndex===null?this.sessions.push(m):this.sessions[this.editingIndex]=m,this.sessionsService.save(this.sessions),this.router.navigate(["/sessions"])}cancel(){this.router.navigate(["/sessions"])}goToEdit(){this.editingIndex!==null&&this.router.navigate(["/sessions",this.editingIndex,"edit"])}deleteCurrent(){this.editingIndex!==null&&confirm("Delete session?")&&(this.sessions.splice(this.editingIndex,1),this.sessionsService.save(this.sessions),this.router.navigate(["/sessions"]))}playSession(){this.editingIndex!==null&&this.router.navigate(["/sessions",this.editingIndex,"timer"])}static \u0275fac=function(t){return new(t||r)(v(tt),v(W),v($),v(R))};static \u0275cmp=F({type:r,selectors:[["app-session-form"]],viewQuery:function(t,i){if(t&1&&I(it,5),t&2){let e;V(e=D())&&(i.sessionNameInput=e.first)}},decls:15,vars:12,consts:[["editHeader",""],["sessionNameInput",""],[1,"session-form","container","mt-4","pb-4"],[4,"ngIf","ngIfElse"],[3,"ngSubmit","formGroup"],["class","form-floating mb-3",4,"ngIf"],[4,"ngIf"],[1,"tasks"],["class","d-flex justify-content-between align-items-center mb-3",4,"ngIf"],["class","text-center text-muted py-4",4,"ngIf"],["class","my-3",4,"ngIf"],["class","mb-3",4,"ngIf"],["class","mt-4 d-flex gap-2",4,"ngIf"],["class","modal-overlay","appPortal","",3,"click",4,"ngIf"],[1,"d-flex","justify-content-center","mb-3","summary-actions","gap-3"],["type","button","title","Edit",1,"btn","btn-link","p-2","text-secondary",3,"click"],[1,"material-icons",2,"font-size","26px"],["type","button","title","Play",1,"btn","btn-link","p-2","text-primary",3,"click"],[1,"material-icons",2,"font-size","30px"],["type","button","title","Delete",1,"btn","btn-link","p-2","text-danger",3,"click"],[1,"view-summary-card","mb-4","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","gap-3"],[1,"material-icons","text-primary",2,"font-size","30px"],[1,"mb-0"],[1,"d-flex","align-items-center","gap-2"],[1,"material-icons","text-timer",2,"font-size","22px"],[1,"fw-semibold"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"form-floating","mb-3"],["id","sessionName","formControlName","sessionName","placeholder","Session Name",1,"form-control"],["for","sessionName"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["type","button",1,"btn","btn-primary","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","48px","height","48px","padding","0",3,"click"],[1,"material-icons"],[1,"text-center","text-muted","py-4"],[1,"mb-3"],[1,"row","g-3"],["class","col-12 col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4"],[1,"task-card","h-100"],[1,"d-flex","justify-content-between","align-items-start","mb-2"],[1,"mb-0","text-primary"],[1,"d-flex","justify-content-between","mb-2"],[1,"text-muted"],["class","mt-2",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-link","text-secondary","p-1",3,"click"],[1,"material-icons",2,"font-size","18px"],["type","button",1,"btn","btn-sm","btn-link","text-danger","p-1",3,"click"],[1,"mt-2"],[1,"mb-2"],["class","d-flex justify-content-between mb-1 ps-3",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mb-1","ps-3"],[1,"my-3"],[1,"form-label","mb-2"],[1,"d-flex","gap-2","flex-nowrap"],[1,"form-floating","flex-fill"],["type","number","id","durationHours","formControlName","durationHours","placeholder","Hours",1,"form-control"],["for","durationHours"],["type","number","id","durationMinutes","formControlName","durationMinutes","placeholder","Minutes",1,"form-control"],["for","durationMinutes"],["type","number","id","durationSeconds","formControlName","durationSeconds","placeholder","Seconds",1,"form-control"],["for","durationSeconds"],[1,"mt-4","d-flex","gap-2"],["type","submit",1,"btn","btn-success"],["type","button",1,"btn","btn-secondary",3,"click"],["appPortal","",1,"modal-overlay",3,"click"],[1,"modal-card",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"btn-close",3,"click"],[1,"modal-body","mt-3"],[3,"formGroup"],[1,"form-floating","mb-2"],["id","taskName","formControlName","taskName","placeholder","Task name",1,"form-control"],["for","taskName"],[1,"form-label"],[1,"form-check","form-check-inline"],["type","radio","formControlName","hasSubtasks",1,"form-check-input",3,"value"],[1,"form-check-label"],["class","mb-2",4,"ngIf"],[1,"modal-footer","d-flex","gap-2"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],["type","number","id","taskDurationHours","formControlName","durationHours","placeholder","Hours",1,"form-control"],["for","taskDurationHours"],["type","number","id","taskDurationMinutes","formControlName","durationMinutes","placeholder","Minutes",1,"form-control"],["for","taskDurationMinutes"],["type","number","id","taskDurationSeconds","formControlName","durationSeconds","placeholder","Seconds",1,"form-control"],["for","taskDurationSeconds"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[3,"formGroup",4,"ngFor","ngForOf"],[1,"small","text-muted","mt-2"],[1,"card","mb-2","p-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"flex-grow-1"],[1,"small","text-muted"],[1,"d-flex","align-items-center"],["type","button",1,"btn","btn-sm","btn-link","text-secondary","p-1","me-1",3,"click"],[1,"modal-card","small",3,"click"],["id","subtaskName","formControlName","subtaskName","placeholder","Subtask Name",1,"form-control"],["for","subtaskName"],["type","number","id","subtaskDurationHours","formControlName","durationHours","placeholder","Hours",1,"form-control"],["for","subtaskDurationHours"],["type","number","id","subtaskDurationMinutes","formControlName","durationMinutes","placeholder","Minutes",1,"form-control"],["for","subtaskDurationMinutes"],["type","number","id","subtaskDurationSeconds","formControlName","durationSeconds","placeholder","Seconds",1,"form-control"],["for","subtaskDurationSeconds"]],template:function(t,i){if(t&1){let e=k();o(0,"div",2),x(1,ot,22,2,"ng-container",3)(2,st,3,1,"ng-template",null,0,H),o(4,"form",4),_("ngSubmit",function(){return p(e),f(i.save())}),x(5,at,5,0,"div",5)(6,rt,1,0,"hr",6),o(7,"div",7),x(8,lt,6,0,"div",8)(9,dt,3,0,"div",9)(10,ft,5,1,"div",6),s(),x(11,_t,1,0,"hr",10)(12,gt,16,0,"div",11)(13,bt,5,0,"div",12),s(),x(14,Ct,32,7,"div",13),s()}if(t&2){let e=A(3);d(),u("ngIf",i.isViewMode)("ngIfElse",e),d(3),u("formGroup",i.form),d(),u("ngIf",!i.isViewMode),d(),u("ngIf",!i.isViewMode),d(2),u("ngIf",!i.isViewMode),d(),u("ngIf",i.tasks.controls.length===0),d(),u("ngIf",i.tasks.controls.length>0),d(),u("ngIf",!i.isViewMode),d(),u("ngIf",!i.isViewMode),d(),u("ngIf",!i.isViewMode),d(),u("ngIf",i.taskModalOpen)}},dependencies:[G,z,j,X,Q,q,U,L,Y,B,Z,K,J,y],styles:[".sessions-page[_ngcontent-%COMP%]{padding-bottom:6rem;color:#0f172a}.sessions-page[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]{flex-wrap:nowrap}.sessions-page[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]   .search-holder[_ngcontent-%COMP%]{min-width:0}.sessions-page[_ngcontent-%COMP%]   .search-full[_ngcontent-%COMP%]{display:flex;align-items:center;background:#f5f5f7;border-radius:12px;padding:10px 12px;border:1px solid #c7c7cf;box-shadow:none}.sessions-page[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:10px;color:#4b4b55}.sessions-page[_ngcontent-%COMP%]   .search-full[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;padding:6px 0;background:transparent;color:#111}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]{background:#f5effb;border-radius:14px;padding:16px 16px 12px;border:1px solid #e9e1f1;box-shadow:0 14px 32px #00000017;display:flex;flex-direction:column;min-height:120px;position:relative;transition:transform .12s ease,box-shadow .12s ease,border-color .12s ease,background-color .12s ease}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 18px 38px #0000001f;border-color:#e1d7ed;background:#f2eaf9}.sessions-page[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.sessions-page[_ngcontent-%COMP%]   .session-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.08rem;color:#151515;letter-spacing:.1px}.sessions-page[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{display:flex;align-items:center;color:#111;font-weight:500;font-size:.94rem;opacity:.95}.sessions-page[_ngcontent-%COMP%]   .duration-text[_ngcontent-%COMP%]{font-weight:500}.sessions-page[_ngcontent-%COMP%]   .text-timer[_ngcontent-%COMP%]{color:#1c6fda}.sessions-page[_ngcontent-%COMP%]   .subtle-text[_ngcontent-%COMP%]{color:#1f1f1f;font-weight:500}.sessions-page[_ngcontent-%COMP%]   .meta-row[_ngcontent-%COMP%]{color:#242424;font-size:.93rem}.sessions-page[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:none;background:#1c6fda;display:flex;align-items:center;justify-content:center;padding:0;color:#fff;box-shadow:0 8px 18px #1c6fda40;transition:transform .12s ease,box-shadow .12s ease}.sessions-page[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 22px #1c6fda47}.sessions-page[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{position:fixed;right:18px;bottom:18px;width:64px;height:64px;border-radius:18px;background:#d9c8f6;border:none;font-size:30px;color:#402b86;box-shadow:0 14px 28px #402b8638;display:flex;align-items:center;justify-content:center}@media(min-width:768px){.sessions-page[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{display:none}}.sessions-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{padding-top:8px}.sessions-page[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:18px;box-shadow:0 10px 26px #0f172a14;border:1px solid #e2e8f0}.sessions-page[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:18px}.sessions-page[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{font-size:1.2rem;padding:14px;border-radius:8px}.sessions-page[_ngcontent-%COMP%]   .modal-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:18px;width:min(720px,96%);box-shadow:0 18px 46px #0f172a33;border:1px solid #e2e8f0}.sessions-page[_ngcontent-%COMP%]   .modal-card.small[_ngcontent-%COMP%]{width:min(420px,92%)}.sessions-page[_ngcontent-%COMP%]   .modal-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .sessions-page[_ngcontent-%COMP%]   .modal-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-bottom:12px}.sessions-page[_ngcontent-%COMP%]   .subtask-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:6px 0}.sessions-page[_ngcontent-%COMP%]   .sub-left[_ngcontent-%COMP%]{color:#1e293b}.sessions-page[_ngcontent-%COMP%]   .sub-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.sessions-page[_ngcontent-%COMP%]   .tasks-section[_ngcontent-%COMP%]   .add-task-circle[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:24px;background:#2563eb;color:#fff;border:none;display:inline-flex;align-items:center;justify-content:center;font-size:20px}.sessions-page[_ngcontent-%COMP%]   .tasks-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}@media(max-width:767.98px){.sessions-page[_ngcontent-%COMP%]   .session-title[_ngcontent-%COMP%]{font-size:1.05rem}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]{padding:12px 12px 10px;min-height:90px}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{gap:6px}.sessions-page[_ngcontent-%COMP%]   .search-full[_ngcontent-%COMP%]{padding:8px}.sessions-page[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{right:14px;bottom:14px}.sessions-page[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]{flex-wrap:wrap}.sessions-page[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]   .search-holder[_ngcontent-%COMP%]{width:100%}.sessions-page[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{margin-left:auto}}@media(max-width:575.98px){.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{display:none}}.summary-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:transform .12s ease}.summary-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.view-summary-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e1f1;border-radius:18px;padding:20px 24px;box-shadow:0 14px 32px #0000001f}.task-card[_ngcontent-%COMP%]{background:#fff;border-radius:18px;padding:20px 24px;margin-bottom:16px;border:1px solid #e9e1f1;box-shadow:0 14px 32px #0000001f}.task-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.task-left[_ngcontent-%COMP%]{display:flex;flex-direction:column}.task-title[_ngcontent-%COMP%]{font-weight:700;color:#0f172a;font-size:1.05rem}.task-meta[_ngcontent-%COMP%]{color:#475569}.task-ops[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 6px}.subtask-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#334155;padding:6px 0}.sub-dur[_ngcontent-%COMP%]{color:#2563eb;font-weight:600}.session-timer-page[_ngcontent-%COMP%]{max-width:720px;margin:0 auto}.timer-card[_ngcontent-%COMP%]{background:#e8e4f0;border-radius:20px;padding:24px;box-shadow:0 12px 28px #0000001a}.session-timer-card[_ngcontent-%COMP%]{background:#e8e4f0}.timer-header[_ngcontent-%COMP%]   .timer-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f1f1f}.timer-display[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;text-align:center;letter-spacing:2px;transition:color .3s ease}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-5px)}20%,40%,60%,80%{transform:translate(5px)}}.timer-negative[_ngcontent-%COMP%]{color:#dc3545!important;animation:_ngcontent-%COMP%_shake .5s ease-in-out infinite}.session-timer-display[_ngcontent-%COMP%]{color:#1c6fda}.task-selection-card[_ngcontent-%COMP%]{background:#e8e4f0}.task-selection-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;text-align:center;color:#1f1f1f}.task-timer-display[_ngcontent-%COMP%]{color:#4a4a4a;font-size:3.5rem!important}.task-select-card[_ngcontent-%COMP%]{background:#e8e4f0;border-radius:12px;padding:16px;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,background-color .12s ease;box-shadow:0 4px 12px #00000014}.task-select-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #0000001f;background:#ddd7eb}.task-select-card.selected[_ngcontent-%COMP%]{background:#1c6fda;box-shadow:0 8px 20px #1c6fda4d}.task-select-card.selected[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%], .task-select-card.selected[_ngcontent-%COMP%]   .task-duration-display[_ngcontent-%COMP%]{color:#fff}.task-select-card[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1c6fda;margin-bottom:6px}.task-select-card[_ngcontent-%COMP%]   .task-duration-display[_ngcontent-%COMP%]{font-size:.85rem;color:#5a5a5a;font-weight:500}.subtask-info[_ngcontent-%COMP%]{margin-top:20px;padding-top:16px;border-top:1px solid #e9e1f1}.subtask-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;margin-bottom:16px}.subtask-column[_ngcontent-%COMP%]{flex:1;text-align:center}.subtask-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#4a4a4a;margin-bottom:6px;text-transform:capitalize}.subtask-name[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:600;color:#1f1f1f;word-break:break-word;margin-bottom:4px}.subtask-duration[_ngcontent-%COMP%]{font-size:.85rem;color:#5a5a5a;font-weight:500}.subtask-timer-display[_ngcontent-%COMP%]{color:#1c6fda!important;font-size:4.5rem!important;margin-top:12px}.task-duration-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px;padding:12px;background:#f5f5f7;border-radius:10px}.task-duration-label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#4a4a4a}.task-duration-value[_ngcontent-%COMP%]{font-size:.95rem;font-weight:700;color:#1c6fda}"]})};export{et as SessionFormComponent};
