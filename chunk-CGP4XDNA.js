import{a as $,b as v,c as q,d as Y,f as Q,g as U,h as B,i as L,j as J,k as K,l as W,m as X}from"./chunk-DCVZ3JEH.js";import{a as Z}from"./chunk-3QOZFLDI.js";import{$ as k,Aa as I,Ca as z,F as p,Fa as A,G as f,Ga as H,Ia as j,Oa as G,Qa as R,U as c,W as S,X as P,ca as u,da as i,ea as s,fa as g,ga as T,ha as F,ia as x,ja as _,ka as l,la as D,ma as N,na as E,oa as V,pa as w,qa as C,ra as r,sa as h,ta as y}from"./chunk-V4VHPBQL.js";var te=["sessionNameInput"];function ne(a,o){if(a&1){let e=x();T(0),i(1,"div",17)(2,"button",18),_("click",function(){p(e);let t=l();return f(t.goToEdit())}),i(3,"span",19),r(4,"edit"),s()(),i(5,"button",20),_("click",function(){p(e);let t=l();return f(t.playSession())}),i(6,"span",21),r(7,"play_circle_filled"),s()(),i(8,"button",22),_("click",function(){p(e);let t=l();return f(t.deleteCurrent())}),i(9,"span",19),r(10,"delete"),s()()(),i(11,"div",23)(12,"div",24)(13,"span",25),r(14,"play_arrow"),s(),i(15,"h4",26),r(16),s()(),i(17,"div",27)(18,"span",28),r(19,"timer"),s(),i(20,"div",29),r(21),s()()(),F()}if(a&2){let e,n=l();c(16),h(((e=n.form.get("sessionName"))==null?null:e.value)||"Untitled Session"),c(5),h(n.viewTotalDurationSeconds()>0?n.formatDuration(n.viewTotalDurationSeconds()):"Untimed")}}function ie(a,o){if(a&1&&(i(0,"div",30)(1,"h2",26),r(2),s()()),a&2){let e=l();c(2),h(e.editingIndex===null?"Add Session":"Edit Session")}}function oe(a,o){a&1&&(i(0,"div",31),g(1,"input",32,1),i(3,"label",33),r(4,"Session Name"),s()())}function se(a,o){a&1&&g(0,"hr")}function ae(a,o){if(a&1){let e=x();i(0,"div",34)(1,"h5",26),r(2,"Tasks in Session"),s(),i(3,"button",35),_("click",function(){p(e);let t=l();return f(t.openTaskModal())}),i(4,"span",36),r(5,"add"),s()()()}}function re(a,o){a&1&&(i(0,"div",37)(1,"p",26),r(2,"No task is added. Click on add (+) button to add task to session."),s()())}function le(a,o){if(a&1){let e=x();i(0,"div")(1,"button",48),_("click",function(){p(e);let t=l().index,d=l(2);return f(d.openTaskModal(t))}),i(2,"span",49),r(3,"edit"),s()(),i(4,"button",50),_("click",function(){p(e);let t=l().index,d=l(2);return f(d.deleteTask(t))}),i(5,"span",49),r(6,"delete"),s()()()}}function de(a,o){if(a&1&&(i(0,"div",54)(1,"span"),r(2),s(),i(3,"span"),r(4),s()()),a&2){let e,n,t=o.$implicit,d=l(4);c(2),y("- ",((e=t.get("subtaskName"))==null?null:e.value)||"Untitled"),c(2),h(d.formatDuration(((n=t.get("duration"))==null?null:n.value)||0))}}function ce(a,o){if(a&1&&(i(0,"div",51)(1,"h6",52),r(2,"Subtasks"),s(),k(3,de,5,2,"div",53),s()),a&2){let e=l().index,n=l(2);c(3),u("ngForOf",n.getSubtasksControls(e))}}function me(a,o){if(a&1&&(i(0,"div",41)(1,"div",42)(2,"div",43)(3,"h5",44),r(4),s(),k(5,le,7,0,"div",6),s(),i(6,"div",45)(7,"span",46),r(8,"Task Duration"),s(),i(9,"strong"),r(10),s()(),k(11,ce,4,1,"div",47),s()()),a&2){let e,n,t=o.$implicit,d=o.index,m=l(2);c(4),h((e=t.get("taskName"))==null?null:e.value),c(),u("ngIf",!m.isViewMode),c(5),h(m.formatDuration(m.taskGroupDuration(t))),c(),u("ngIf",((n=t.get("hasSubtasks"))==null?null:n.value)&&m.getSubtasksControls(d).length>0)}}function ue(a,o){if(a&1&&(i(0,"div")(1,"h6",38),r(2,"Tasks:"),s(),i(3,"div",39),k(4,me,12,4,"div",40),s()()),a&2){let e=l();c(4),u("ngForOf",e.tasks.controls)}}function pe(a,o){a&1&&g(0,"hr",55)}function fe(a,o){a&1&&(i(0,"div",38)(1,"label",56),r(2,"Session Duration (optional)"),s(),i(3,"div",57)(4,"div",58),g(5,"input",59),i(6,"label",60),r(7,"Hours"),s()(),i(8,"div",58),g(9,"input",61),i(10,"label",62),r(11,"Minutes"),s()(),i(12,"div",58),g(13,"input",63),i(14,"label",64),r(15,"Seconds"),s()()()())}function _e(a,o){if(a&1){let e=x();i(0,"div",65)(1,"button",66),r(2,"Save"),s(),i(3,"button",67),_("click",function(){p(e);let t=l();return f(t.cancel())}),r(4,"Cancel"),s()()}}function ge(a,o){a&1&&(i(0,"div",52)(1,"label",56),r(2,"Duration"),s(),i(3,"div",57)(4,"div",58),g(5,"input",87),i(6,"label",88),r(7,"Hours"),s()(),i(8,"div",58),g(9,"input",89),i(10,"label",90),r(11,"Minutes"),s()(),i(12,"div",58),g(13,"input",91),i(14,"label",92),r(15,"Seconds"),s()()()())}function be(a,o){if(a&1){let e=x();i(0,"div",75)(1,"div",96)(2,"div",97)(3,"div",98)(4,"strong"),r(5),s(),i(6,"div",99),r(7),s()(),i(8,"div",100)(9,"button",101),_("click",function(){let t=p(e).index,d=l(3);return f(d.openSubtaskModal(t))}),i(10,"span",49),r(11,"edit"),s()(),i(12,"button",50),_("click",function(){let t=p(e).index,d=l(3);return f(d.removeSubtaskInModal(t))}),i(13,"span",49),r(14,"delete"),s()()()()()()}if(a&2){let e,n,t=o.$implicit,d=l(3);u("formGroup",d.controlAsGroup(t)),c(5),h(((e=t.get("subtaskName"))==null?null:e.value)||"Untitled Subtask"),c(2),y("Duration: ",d.formatDuration(((n=t.get("duration"))==null?null:n.value)||0))}}function xe(a,o){if(a&1){let e=x();i(0,"div")(1,"div",30)(2,"h6",26),r(3,"Subtasks"),s(),i(4,"button",93),_("click",function(){p(e);let t=l(2);return f(t.openSubtaskModal())}),r(5,"Add Subtask"),s()(),k(6,be,15,3,"div",94),i(7,"div",95),r(8),s()()}if(a&2){let e=l(2);c(6),u("ngForOf",e.taskModalSubtasks.controls),c(2),y("Total subtask duration: ",e.formatDuration(e.taskModalTotalDuration))}}function ke(a,o){if(a&1){let e=x();i(0,"div",68)(1,"div",69)(2,"div",70)(3,"div",71)(4,"h5",72),r(5),s(),i(6,"button",73),_("click",function(){p(e);let t=l();return f(t.closeTaskModal())}),s()(),i(7,"div",74)(8,"form",75)(9,"div",76),g(10,"input",77),i(11,"label",78),r(12,"Task name"),s()(),i(13,"div",52)(14,"label",79),r(15,"Has subtasks?"),s(),i(16,"div")(17,"div",80),g(18,"input",81),i(19,"label",82),r(20,"Yes"),s()(),i(21,"div",80),g(22,"input",81),i(23,"label",82),r(24,"No"),s()()()(),k(25,ge,16,0,"div",83)(26,xe,9,2,"div",6),s()(),i(27,"div",84)(28,"button",85),_("click",function(){p(e);let t=l();return f(t.saveTaskModal())}),r(29,"Save Task"),s(),i(30,"button",86),_("click",function(){p(e);let t=l();return f(t.closeTaskModal())}),r(31,"Close"),s()()()()()}if(a&2){let e,n,t=l();w("display",t.taskModalOpen?"block":"none"),C("show",t.taskModalOpen),c(5),h(t.editingTaskIndex===null?"Add Task":"Edit Task"),c(3),u("formGroup",t.taskModalForm),c(10),u("value",!0),c(4),u("value",!1),c(3),u("ngIf",!((e=t.taskModalForm.get("hasSubtasks"))!=null&&e.value)),c(),u("ngIf",(n=t.taskModalForm.get("hasSubtasks"))==null?null:n.value)}}function he(a,o){if(a&1){let e=x();i(0,"div",102),_("click",function(){p(e);let t=l();return f(t.closeTaskModal())}),s()}if(a&2){let e=l();C("show",e.taskModalOpen)}}function Ce(a,o){if(a&1){let e=x();i(0,"div",68)(1,"div",69)(2,"div",70)(3,"div",71)(4,"h5",72),r(5),s(),i(6,"button",73),_("click",function(){p(e);let t=l();return f(t.closeSubtaskModal())}),s()(),i(7,"div",74)(8,"form",75)(9,"div",76),g(10,"input",103),i(11,"label",104),r(12,"Subtask Name"),s()(),i(13,"div",52)(14,"label",56),r(15,"Duration"),s(),i(16,"div",57)(17,"div",58),g(18,"input",105),i(19,"label",106),r(20,"Hours"),s()(),i(21,"div",58),g(22,"input",107),i(23,"label",108),r(24,"Minutes"),s()(),i(25,"div",58),g(26,"input",109),i(27,"label",110),r(28,"Seconds"),s()()()()()(),i(29,"div",84)(30,"button",85),_("click",function(){p(e);let t=l();return f(t.saveSubtaskModal())}),r(31,"Save"),s(),i(32,"button",86),_("click",function(){p(e);let t=l();return f(t.closeSubtaskModal())}),r(33,"Cancel"),s()()()()()}if(a&2){let e=l();w("display",e.subtaskModalOpen?"block":"none"),C("show",e.subtaskModalOpen),c(5),h(e.editingSubtaskIndex===null?"Add Subtask":"Edit Subtask"),c(3),u("formGroup",e.subtaskModalForm)}}function ve(a,o){if(a&1){let e=x();i(0,"div",102),_("click",function(){p(e);let t=l();return f(t.closeSubtaskModal())}),s()}if(a&2){let e=l();C("show",e.subtaskModalOpen)}}function Me(a,o){if(a&1){let e=x();i(0,"div",111)(1,"div",112)(2,"div",113)(3,"div",71)(4,"h5",72),r(5,"Confirm Delete"),s(),i(6,"button",73),_("click",function(){p(e);let t=l();return f(t.cancelDeleteSession())}),s()(),i(7,"div",74)(8,"p",26),r(9,"Are you sure you want to delete this session? This action cannot be undone."),s()(),i(10,"div",114)(11,"button",67),_("click",function(){p(e);let t=l();return f(t.cancelDeleteSession())}),r(12,"Cancel"),s(),i(13,"button",115),_("click",function(){p(e);let t=l();return f(t.confirmDeleteSession())}),r(14,"Delete"),s()()()()()}if(a&2){let e=l();w("display",e.showDeleteSessionModal?"block":"none"),C("show",e.showDeleteSessionModal)}}function Se(a,o){if(a&1){let e=x();i(0,"div",116),_("click",function(){p(e);let t=l();return f(t.cancelDeleteSession())}),s()}if(a&2){let e=l();C("show",e.showDeleteSessionModal)}}function we(a,o){if(a&1){let e=x();i(0,"div",111)(1,"div",112)(2,"div",113)(3,"div",71)(4,"h5",72),r(5,"Confirm Delete"),s(),i(6,"button",73),_("click",function(){p(e);let t=l();return f(t.cancelDeleteTask())}),s()(),i(7,"div",74)(8,"p",26),r(9,"Are you sure you want to delete this task? This action cannot be undone."),s()(),i(10,"div",114)(11,"button",67),_("click",function(){p(e);let t=l();return f(t.cancelDeleteTask())}),r(12,"Cancel"),s(),i(13,"button",115),_("click",function(){p(e);let t=l();return f(t.confirmDeleteTask())}),r(14,"Delete"),s()()()()()}if(a&2){let e=l();w("display",e.showDeleteTaskModal?"block":"none"),C("show",e.showDeleteTaskModal)}}function ye(a,o){if(a&1){let e=x();i(0,"div",116),_("click",function(){p(e);let t=l();return f(t.cancelDeleteTask())}),s()}if(a&2){let e=l();C("show",e.showDeleteTaskModal)}}var ee=class a{constructor(o,e,n,t,d){this.sessionsService=o;this.fb=e;this.router=n;this.route=t;this.cdr=d;this.sessions=this.sessionsService.load(),this.form=this.fb.group({sessionName:[""],isTimed:[!0],totalDuration:[0],durationHours:[0],durationMinutes:[0],durationSeconds:[0],tasks:this.fb.array([])}),this.taskModalForm=this.fb.group({taskName:["",v.required],hasSubtasks:[!1],taskDuration:[0],durationHours:[0],durationMinutes:[0],durationSeconds:[0],subtasks:this.fb.array([])}),this.subtaskModalForm=this.fb.group({subtaskName:["",v.required],duration:[0,[v.min(0)]],durationHours:[0],durationMinutes:[0],durationSeconds:[0]});let m=this.taskModalForm.get("taskDuration");m.setValidators([v.required,v.min(0)]),m.updateValueAndValidity({emitEvent:!1}),this.taskModalForm.get("hasSubtasks").valueChanges.subscribe(M=>{M?(m.disable({emitEvent:!1}),m.clearValidators(),m.updateValueAndValidity({emitEvent:!1})):(m.enable({emitEvent:!1}),m.setValidators([v.required,v.min(0)]),m.updateValueAndValidity({emitEvent:!1}))})}sessions=[];editingIndex=null;isViewMode=!1;form;taskModalOpen=!1;subtaskModalOpen=!1;editingTaskIndex=null;editingSubtaskIndex=null;showDeleteSessionModal=!1;showDeleteTaskModal=!1;taskToDelete=null;reopenTaskModalAfterSubtask=!1;taskModalForm;subtaskModalForm;sessionNameInput;ngOnInit(){this.route.paramMap.subscribe(o=>{this.isViewMode=(this.route.snapshot.routeConfig?.path||"").includes("view");let e=o.get("id");if(e!==null){let n=Number(e);!isNaN(n)&&n>=0&&n<this.sessions.length&&(this.loadForEdit(n),this.isViewMode&&this.form.disable({emitEvent:!1}))}})}get tasks(){return this.form.get("tasks")}addTask(o){let e=this.fb.array((o?.subtasks||[]).map(t=>this.fb.group({subtaskName:[t.subtaskName],duration:[t.duration]}))),n=this.fb.group({taskName:[o?.taskName||""],hasSubtasks:[o?.hasSubtasks??!1],taskDuration:[o?.taskDuration||0],subtasks:e});this.tasks.push(n)}getSubtasksControls(o){let e=this.tasks.at(o).get("subtasks");return e?e.controls:[]}openTaskModal(o){this.editingTaskIndex=typeof o=="number"?o:null;let e=this.taskModalForm,n=e.get("subtasks");for(;n.length;)n.removeAt(0);if(this.editingTaskIndex!==null){let t=this.tasks.at(this.editingTaskIndex).value,d=t.taskDuration||0,m=Math.floor(d/3600),b=Math.floor(d%3600/60),M=d%60;e.patchValue({taskName:t.taskName,hasSubtasks:!!t.hasSubtasks,taskDuration:t.taskDuration||0,durationHours:m,durationMinutes:b,durationSeconds:M}),(t.subtasks||[]).forEach(O=>n.push(this.fb.group({subtaskName:[O.subtaskName],duration:[O.duration]})))}else e.reset({taskName:"",hasSubtasks:!1,taskDuration:0,durationHours:0,durationMinutes:0,durationSeconds:0});this.taskModalOpen=!0,setTimeout(()=>{try{this.sessionNameInput?.nativeElement?.focus()}catch{}},0)}closeTaskModal(){this.taskModalOpen=!1,this.editingTaskIndex=null;let o=this.taskModalForm.get("subtasks");for(;o.length;)o.removeAt(0)}saveTaskModal(){let o=!!this.taskModalForm.get("hasSubtasks")?.value;if(o&&this.taskModalSubtasks.length===0){alert("Please add at least one subtask");return}if(this.taskModalForm.invalid)return;let e=this.taskModalForm.value,n=0;if(o)n=this.taskModalSubtasks.controls.reduce((d,m)=>d+Number(m.get("duration")?.value||0),0);else{let d=Number(e.durationHours)||0,m=Number(e.durationMinutes)||0,b=Number(e.durationSeconds)||0;n=d*3600+m*60+b}let t={taskName:e.taskName,hasSubtasks:o,taskDuration:n,subtasks:(e.subtasks||[]).map(d=>({subtaskName:d.subtaskName,duration:Number(d.duration)||0}))};if(this.editingTaskIndex===null)this.addTask(t);else{let d=this.tasks.at(this.editingTaskIndex);d.patchValue({taskName:t.taskName,hasSubtasks:t.hasSubtasks,taskDuration:t.taskDuration});let m=d.get("subtasks");for(;m.length;)m.removeAt(0);(t.subtasks||[]).forEach(b=>m.push(this.fb.group({subtaskName:[b.subtaskName],duration:[b.duration]})))}this.closeTaskModal()}get taskModalSubtasks(){return this.taskModalForm.get("subtasks")}openSubtaskModal(o){this.editingSubtaskIndex=typeof o=="number"?o:null;let e=this.taskModalSubtasks;if(this.editingSubtaskIndex!==null){let n=e.at(this.editingSubtaskIndex).value,t=n.duration||0,d=Math.floor(t/3600),m=Math.floor(t%3600/60),b=t%60;this.subtaskModalForm.patchValue({subtaskName:n.subtaskName,duration:n.duration,durationHours:d,durationMinutes:m,durationSeconds:b})}else this.subtaskModalForm.reset({subtaskName:"",duration:0,durationHours:0,durationMinutes:0,durationSeconds:0});this.reopenTaskModalAfterSubtask=this.taskModalOpen,this.taskModalOpen=!1,setTimeout(()=>{this.subtaskModalOpen=!0,this.cdr.detectChanges()},0)}closeSubtaskModal(){this.subtaskModalOpen=!1,this.editingSubtaskIndex=null,this.subtaskModalForm.reset({subtaskName:"",duration:0,durationHours:0,durationMinutes:0,durationSeconds:0}),this.reopenTaskModalAfterSubtask&&setTimeout(()=>{this.taskModalOpen=!0,this.cdr.detectChanges()},0),this.reopenTaskModalAfterSubtask=!1}saveSubtaskModal(){if(this.subtaskModalForm.invalid)return;let o=this.subtaskModalForm.value,e=Number(o.durationHours)||0,n=Number(o.durationMinutes)||0,t=Number(o.durationSeconds)||0,d=e*3600+n*60+t,m=this.taskModalSubtasks;this.editingSubtaskIndex===null?m.push(this.fb.group({subtaskName:[o.subtaskName],duration:[d]})):m.at(this.editingSubtaskIndex).patchValue({subtaskName:o.subtaskName,duration:d}),this.closeSubtaskModal()}viewTotalDurationSeconds(){return Number(this.form.get("totalDuration")?.value||0)}removeSubtaskInModal(o){this.taskModalSubtasks.removeAt(o)}get taskModalTotalDuration(){return this.taskModalSubtasks.controls.reduce((o,e)=>o+Number(e.get("duration")?.value||0),0)}get taskModalComputedDuration(){return!!this.taskModalForm.get("hasSubtasks")?.value?this.taskModalTotalDuration:Number(this.taskModalForm.get("taskDuration")?.value||0)}taskGroupDuration(o){if(!!o.get("hasSubtasks")?.value){let n=o.get("subtasks");return n?n.controls.reduce((t,d)=>t+Number(d.get("duration")?.value||0),0):0}return Number(o.get("taskDuration")?.value||0)}controlAsGroup(o){return o}formatDuration(o){let e=Math.floor(o/3600),n=Math.floor(o%3600/60),t=o%60;return`${e}h ${n}m ${t}s`}loadForEdit(o){let e=this.sessions[o];this.editingIndex=o;let n=e.totalDuration||0,t=Math.floor(n/3600),d=Math.floor(n%3600/60),m=n%60;for(this.form.patchValue({sessionName:e.sessionName,isTimed:e.isTimed,totalDuration:e.totalDuration||0,durationHours:t,durationMinutes:d,durationSeconds:m});this.tasks.length;)this.tasks.removeAt(0);e.tasks.forEach(b=>this.addTask(b))}save(){let o=this.form.value,e=Number(o.durationHours)||0,n=Number(o.durationMinutes)||0,t=Number(o.durationSeconds)||0,d=e*3600+n*60+t,m={sessionName:o.sessionName,isTimed:!!o.isTimed,totalDuration:d>0?d:Number(o.totalDuration)||0,tasks:(o.tasks||[]).map(b=>({taskName:b.taskName,hasSubtasks:!!b.hasSubtasks,taskDuration:Number(b.taskDuration)||0,subtasks:(b.subtasks||[]).map(M=>({subtaskName:M.subtaskName,duration:Number(M.duration)||0}))}))};this.editingIndex===null?this.sessions.push(m):this.sessions[this.editingIndex]=m,this.sessionsService.save(this.sessions),this.router.navigate(["/sessions"])}cancel(){this.router.navigate(["/sessions"])}goToEdit(){this.editingIndex!==null&&this.router.navigate(["/sessions",this.editingIndex,"edit"])}deleteCurrent(){this.editingIndex!==null&&(this.taskModalOpen=!1,this.subtaskModalOpen=!1,setTimeout(()=>{this.showDeleteSessionModal=!0,this.cdr.detectChanges()},0))}confirmDeleteSession(){this.editingIndex!==null&&(this.sessions.splice(this.editingIndex,1),this.sessionsService.save(this.sessions),this.showDeleteSessionModal=!1,this.router.navigate(["/sessions"]))}cancelDeleteSession(){this.showDeleteSessionModal=!1}deleteTask(o){this.taskToDelete=o,this.taskModalOpen=!1,this.subtaskModalOpen=!1,setTimeout(()=>{this.showDeleteTaskModal=!0,this.cdr.detectChanges()},0)}confirmDeleteTask(){this.taskToDelete!==null&&(this.tasks.removeAt(this.taskToDelete),this.taskToDelete=null),this.showDeleteTaskModal=!1}cancelDeleteTask(){this.showDeleteTaskModal=!1,this.taskToDelete=null}playSession(){this.editingIndex!==null&&this.router.navigate(["/sessions",this.editingIndex,"timer"])}static \u0275fac=function(e){return new(e||a)(S(Z),S(K),S(R),S(G),S(z))};static \u0275cmp=P({type:a,selectors:[["app-session-form"]],viewQuery:function(e,n){if(e&1&&D(te,5),e&2){let t;N(t=E())&&(n.sessionNameInput=t.first)}},decls:22,vars:19,consts:[["editHeader",""],["sessionNameInput",""],[1,"session-form","container","mt-4","pb-4"],[4,"ngIf","ngIfElse"],[3,"ngSubmit","formGroup"],["class","form-floating mb-3",4,"ngIf"],[4,"ngIf"],[1,"tasks"],["class","d-flex justify-content-between align-items-center mb-3",4,"ngIf"],["class","text-center text-muted py-4",4,"ngIf"],["class","my-3",4,"ngIf"],["class","mb-3",4,"ngIf"],["class","mt-4 d-flex gap-2",4,"ngIf"],["class","modal fade","tabindex","-1",3,"show","display",4,"ngIf"],["class","modal-backdrop fade",3,"show","click",4,"ngIf"],["class","modal fade","tabindex","-1","style","z-index:200000;",3,"show","display",4,"ngIf"],["class","modal-backdrop fade","style","z-index:199999;",3,"show","click",4,"ngIf"],[1,"d-flex","justify-content-center","mb-3","summary-actions","gap-3"],["type","button","title","Edit",1,"btn","btn-link","p-2","text-secondary",3,"click"],[1,"material-icons",2,"font-size","26px"],["type","button","title","Play",1,"btn","btn-link","p-2","text-primary",3,"click"],[1,"material-icons",2,"font-size","30px"],["type","button","title","Delete",1,"btn","btn-link","p-2","text-danger",3,"click"],[1,"view-summary-card","mb-4","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","gap-3"],[1,"material-icons","text-primary",2,"font-size","30px"],[1,"mb-0"],[1,"d-flex","align-items-center","gap-2"],[1,"material-icons","text-timer",2,"font-size","22px"],[1,"fw-semibold"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"form-floating","mb-3"],["id","sessionName","formControlName","sessionName","placeholder","Session Name",1,"form-control"],["for","sessionName"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["type","button",1,"btn","btn-primary","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","48px","height","48px","padding","0",3,"click"],[1,"material-icons"],[1,"text-center","text-muted","py-4"],[1,"mb-3"],[1,"row","g-3"],["class","col-12 col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4"],[1,"task-card","h-100"],[1,"d-flex","justify-content-between","align-items-start","mb-2"],[1,"mb-0","text-primary"],[1,"d-flex","justify-content-between","mb-2"],[1,"text-muted"],["class","mt-2",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-link","text-secondary","p-1",3,"click"],[1,"material-icons",2,"font-size","18px"],["type","button",1,"btn","btn-sm","btn-link","text-danger","p-1",3,"click"],[1,"mt-2"],[1,"mb-2"],["class","d-flex justify-content-between mb-1 ps-3",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mb-1","ps-3"],[1,"my-3"],[1,"form-label","mb-2"],[1,"d-flex","gap-2","flex-nowrap"],[1,"form-floating","flex-fill"],["type","number","id","durationHours","formControlName","durationHours","placeholder","Hours",1,"form-control"],["for","durationHours"],["type","number","id","durationMinutes","formControlName","durationMinutes","placeholder","Minutes",1,"form-control"],["for","durationMinutes"],["type","number","id","durationSeconds","formControlName","durationSeconds","placeholder","Seconds",1,"form-control"],["for","durationSeconds"],[1,"mt-4","d-flex","gap-2"],["type","submit",1,"btn","btn-success"],["type","button",1,"btn","btn-secondary",3,"click"],["tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","border-0"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-floating","mb-2"],["id","taskName","formControlName","taskName","placeholder","Task name",1,"form-control"],["for","taskName"],[1,"form-label"],[1,"form-check","form-check-inline"],["type","radio","formControlName","hasSubtasks",1,"form-check-input",3,"value"],[1,"form-check-label"],["class","mb-2",4,"ngIf"],[1,"modal-footer","d-flex","gap-2","border-0"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],["type","number","id","taskDurationHours","formControlName","durationHours","placeholder","Hours",1,"form-control"],["for","taskDurationHours"],["type","number","id","taskDurationMinutes","formControlName","durationMinutes","placeholder","Minutes",1,"form-control"],["for","taskDurationMinutes"],["type","number","id","taskDurationSeconds","formControlName","durationSeconds","placeholder","Seconds",1,"form-control"],["for","taskDurationSeconds"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[3,"formGroup",4,"ngFor","ngForOf"],[1,"small","text-muted","mt-2"],[1,"card","mb-2","p-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"flex-grow-1"],[1,"small","text-muted"],[1,"d-flex","align-items-center"],["type","button",1,"btn","btn-sm","btn-link","text-secondary","p-1","me-1",3,"click"],[1,"modal-backdrop","fade",3,"click"],["id","subtaskName","formControlName","subtaskName","placeholder","Subtask Name",1,"form-control"],["for","subtaskName"],["type","number","id","subtaskDurationHours","formControlName","durationHours","placeholder","Hours",1,"form-control"],["for","subtaskDurationHours"],["type","number","id","subtaskDurationMinutes","formControlName","durationMinutes","placeholder","Minutes",1,"form-control"],["for","subtaskDurationMinutes"],["type","number","id","subtaskDurationSeconds","formControlName","durationSeconds","placeholder","Seconds",1,"form-control"],["for","subtaskDurationSeconds"],["tabindex","-1",1,"modal","fade",2,"z-index","200000"],["role","dialog","aria-modal","true",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"z-index","200001"],[1,"modal-footer","border-0"],["type","button",1,"btn","btn-danger",3,"click"],[1,"modal-backdrop","fade",2,"z-index","199999",3,"click"]],template:function(e,n){if(e&1){let t=x();i(0,"div",2),k(1,ne,22,2,"ng-container",3)(2,ie,3,1,"ng-template",null,0,I),i(4,"form",4),_("ngSubmit",function(){return p(t),f(n.save())}),k(5,oe,5,0,"div",5)(6,se,1,0,"hr",6),i(7,"div",7),k(8,ae,6,0,"div",8)(9,re,3,0,"div",9)(10,ue,5,1,"div",6),s(),k(11,pe,1,0,"hr",10)(12,fe,16,0,"div",11)(13,_e,5,0,"div",12),s(),k(14,ke,32,10,"div",13)(15,he,1,2,"div",14)(16,Ce,34,6,"div",13)(17,ve,1,2,"div",14)(18,Me,15,4,"div",15)(19,Se,1,2,"div",16)(20,we,15,4,"div",15)(21,ye,1,2,"div",16),s()}if(e&2){let t=V(3);c(),u("ngIf",n.isViewMode)("ngIfElse",t),c(3),u("formGroup",n.form),c(),u("ngIf",!n.isViewMode),c(),u("ngIf",!n.isViewMode),c(2),u("ngIf",!n.isViewMode),c(),u("ngIf",n.tasks.controls.length===0),c(),u("ngIf",n.tasks.controls.length>0),c(),u("ngIf",!n.isViewMode),c(),u("ngIf",!n.isViewMode),c(),u("ngIf",!n.isViewMode),c(),u("ngIf",n.taskModalOpen),c(),u("ngIf",n.taskModalOpen),c(),u("ngIf",n.subtaskModalOpen),c(),u("ngIf",n.subtaskModalOpen),c(),u("ngIf",n.showDeleteSessionModal),c(),u("ngIf",n.showDeleteSessionModal),c(),u("ngIf",n.showDeleteTaskModal),c(),u("ngIf",n.showDeleteTaskModal)}},dependencies:[j,A,H,W,Q,$,U,B,q,Y,X,J,L],styles:[".sessions-page[_ngcontent-%COMP%]{padding-bottom:6rem;color:#0f172a}.sessions-page[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]{flex-wrap:nowrap}.sessions-page[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]   .search-holder[_ngcontent-%COMP%]{min-width:0}.sessions-page[_ngcontent-%COMP%]   .search-full[_ngcontent-%COMP%]{display:flex;align-items:center;background:#f5f5f7;border-radius:12px;padding:10px 12px;border:1px solid #c7c7cf;box-shadow:none}.sessions-page[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:10px;color:#4b4b55}.sessions-page[_ngcontent-%COMP%]   .search-full[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;padding:6px 0;background:transparent;color:#111}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]{background:#f5effb;border-radius:14px;padding:16px 16px 12px;border:1px solid #e9e1f1;box-shadow:0 14px 32px #00000017;display:flex;flex-direction:column;min-height:120px;position:relative;transition:transform .12s ease,box-shadow .12s ease,border-color .12s ease,background-color .12s ease}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 18px 38px #0000001f;border-color:#e1d7ed;background:#f2eaf9}.sessions-page[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.sessions-page[_ngcontent-%COMP%]   .session-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.08rem;color:#151515;letter-spacing:.1px}.sessions-page[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{display:flex;align-items:center;color:#111;font-weight:500;font-size:.94rem;opacity:.95}.sessions-page[_ngcontent-%COMP%]   .duration-text[_ngcontent-%COMP%]{font-weight:500}.sessions-page[_ngcontent-%COMP%]   .text-timer[_ngcontent-%COMP%]{color:#1c6fda}.sessions-page[_ngcontent-%COMP%]   .subtle-text[_ngcontent-%COMP%]{color:#1f1f1f;font-weight:500}.sessions-page[_ngcontent-%COMP%]   .meta-row[_ngcontent-%COMP%]{color:#242424;font-size:.93rem}.sessions-page[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:none;background:#1c6fda;display:flex;align-items:center;justify-content:center;padding:0;color:#fff;box-shadow:0 8px 18px #1c6fda40;transition:transform .12s ease,box-shadow .12s ease}.sessions-page[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 22px #1c6fda47}.sessions-page[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{position:fixed;right:18px;bottom:18px;width:64px;height:64px;border-radius:18px;background:#d9c8f6;border:none;font-size:30px;color:#402b86;box-shadow:0 14px 28px #402b8638;display:flex;align-items:center;justify-content:center}@media(min-width:768px){.sessions-page[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{display:none}}.sessions-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{padding-top:8px}.sessions-page[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:18px;box-shadow:0 10px 26px #0f172a14;border:1px solid #e2e8f0}.sessions-page[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:18px}.sessions-page[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{font-size:1.2rem;padding:14px;border-radius:8px}.sessions-page[_ngcontent-%COMP%]   .modal-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:18px;width:min(720px,96%);box-shadow:0 18px 46px #0f172a33;border:1px solid #e2e8f0}.sessions-page[_ngcontent-%COMP%]   .modal-card.small[_ngcontent-%COMP%]{width:min(420px,92%)}.sessions-page[_ngcontent-%COMP%]   .modal-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .sessions-page[_ngcontent-%COMP%]   .modal-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-bottom:12px}.sessions-page[_ngcontent-%COMP%]   .subtask-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:6px 0}.sessions-page[_ngcontent-%COMP%]   .sub-left[_ngcontent-%COMP%]{color:#1e293b}.sessions-page[_ngcontent-%COMP%]   .sub-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.sessions-page[_ngcontent-%COMP%]   .tasks-section[_ngcontent-%COMP%]   .add-task-circle[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:24px;background:#2563eb;color:#fff;border:none;display:inline-flex;align-items:center;justify-content:center;font-size:20px}.sessions-page[_ngcontent-%COMP%]   .tasks-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}@media(max-width:767.98px){.sessions-page[_ngcontent-%COMP%]   .session-title[_ngcontent-%COMP%]{font-size:1.05rem}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]{padding:12px 12px 10px;min-height:90px}.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{gap:6px}.sessions-page[_ngcontent-%COMP%]   .search-full[_ngcontent-%COMP%]{padding:8px}.sessions-page[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{right:14px;bottom:14px}.sessions-page[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]{flex-wrap:wrap}.sessions-page[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]   .search-holder[_ngcontent-%COMP%]{width:100%}.sessions-page[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{margin-left:auto}}@media(max-width:575.98px){.sessions-page[_ngcontent-%COMP%]   .session-card[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{display:none}}.summary-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:transform .12s ease}.summary-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.view-summary-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e1f1;border-radius:18px;padding:20px 24px;box-shadow:0 14px 32px #0000001f}.task-card[_ngcontent-%COMP%]{background:#fff;border-radius:18px;padding:20px 24px;margin-bottom:16px;border:1px solid #e9e1f1;box-shadow:0 14px 32px #0000001f}.task-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.task-left[_ngcontent-%COMP%]{display:flex;flex-direction:column}.task-title[_ngcontent-%COMP%]{font-weight:700;color:#0f172a;font-size:1.05rem}.task-meta[_ngcontent-%COMP%]{color:#475569}.task-ops[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 6px}.subtask-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#334155;padding:6px 0}.sub-dur[_ngcontent-%COMP%]{color:#2563eb;font-weight:600}.session-timer-page[_ngcontent-%COMP%]{max-width:720px;margin:0 auto}.timer-card[_ngcontent-%COMP%]{background:#e8e4f0;border-radius:20px;padding:24px;box-shadow:0 12px 28px #0000001a}.session-timer-card[_ngcontent-%COMP%]{background:#e8e4f0}.timer-header[_ngcontent-%COMP%]   .timer-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f1f1f}.timer-display[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;text-align:center;letter-spacing:2px;transition:color .3s ease}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-5px)}20%,40%,60%,80%{transform:translate(5px)}}.timer-negative[_ngcontent-%COMP%]{color:#dc3545!important;animation:_ngcontent-%COMP%_shake .5s ease-in-out infinite}.session-timer-display[_ngcontent-%COMP%]{color:#1c6fda}.session-only[_ngcontent-%COMP%]{padding:32px 24px!important;min-height:300px;display:flex;flex-direction:column;justify-content:center}.session-only-timer[_ngcontent-%COMP%]{font-size:6rem!important;letter-spacing:4px;margin-top:24px;margin-bottom:24px}.task-selection-card[_ngcontent-%COMP%]{background:#e8e4f0}.task-selection-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;text-align:center;color:#1f1f1f}.task-timer-display[_ngcontent-%COMP%]{color:#4a4a4a;font-size:3.5rem!important}.task-select-card[_ngcontent-%COMP%]{background:#e8e4f0;border-radius:12px;padding:16px;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,background-color .12s ease;box-shadow:0 4px 12px #00000014}.task-select-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #0000001f;background:#ddd7eb}.task-select-card.selected[_ngcontent-%COMP%]{background:#1c6fda;box-shadow:0 8px 20px #1c6fda4d}.task-select-card.selected[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%], .task-select-card.selected[_ngcontent-%COMP%]   .task-duration-display[_ngcontent-%COMP%]{color:#fff}.task-select-card[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1c6fda;margin-bottom:6px}.task-select-card[_ngcontent-%COMP%]   .task-duration-display[_ngcontent-%COMP%]{font-size:.85rem;color:#5a5a5a;font-weight:500}.subtask-info[_ngcontent-%COMP%]{margin-top:20px;padding-top:16px;border-top:1px solid #e9e1f1}.subtask-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;margin-bottom:16px}.subtask-column[_ngcontent-%COMP%]{flex:1;text-align:center}.subtask-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#4a4a4a;margin-bottom:6px;text-transform:capitalize}.subtask-name[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:600;color:#1f1f1f;word-break:break-word;margin-bottom:4px}.subtask-duration[_ngcontent-%COMP%]{font-size:.85rem;color:#5a5a5a;font-weight:500}.subtask-timer-display[_ngcontent-%COMP%]{color:#1c6fda!important;font-size:4.5rem!important;margin-top:12px}.task-duration-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px;padding:12px;background:#f5f5f7;border-radius:10px}.task-duration-label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#4a4a4a}.task-duration-value[_ngcontent-%COMP%]{font-size:.95rem;font-weight:700;color:#1c6fda}@media(max-width:576px){.session-timer-page[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.timer-card[_ngcontent-%COMP%]{padding:16px}.timer-display[_ngcontent-%COMP%]{font-size:2rem;letter-spacing:1px;overflow-wrap:break-word;word-break:break-all}.session-only-timer[_ngcontent-%COMP%]{font-size:3.5rem!important;letter-spacing:2px;margin-top:16px;margin-bottom:16px}.task-timer-display[_ngcontent-%COMP%]{font-size:2.5rem!important}.subtask-timer-display[_ngcontent-%COMP%]{font-size:3rem!important}.timer-header[_ngcontent-%COMP%]   .timer-title[_ngcontent-%COMP%]{font-size:1.2rem}.task-selection-title[_ngcontent-%COMP%]{font-size:1.1rem}.timer-negative[_ngcontent-%COMP%]{font-size:1.8rem!important}.session-only-timer.timer-negative[_ngcontent-%COMP%]{font-size:3rem!important}.task-timer-display.timer-negative[_ngcontent-%COMP%]{font-size:2rem!important}.subtask-timer-display.timer-negative[_ngcontent-%COMP%]{font-size:2.5rem!important}}"]})};export{ee as SessionFormComponent};
